import logging
import socket

import channelsimulator
import utils
import sys

import hashlib

import some_utils


DATA = bytearray('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')
DATA = DATA[0:]






list_packets = []
receive_data = ''


i = 0
num_pkt = 0
packet_size = 5

while i < len(DATA) - packet_size:

	chunk = DATA[i:i+packet_size]

   	
   	new_data = utils.makePacket(chunk, num_pkt)

	i += packet_size
	num_pkt += 1
	list_packets.append(new_data)


for i in list_packets:
	[corrupted,num,pkt] = utils.rcvPacket(i)

	

	receive_data = receive_data + pkt








